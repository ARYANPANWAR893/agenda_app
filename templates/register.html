{% set hide_navbar = True %}
{% extends 'base.html' %}
{% block content %}
<style>
  /* Style pour le mode sombre */
  body.dark-mode .auth-center {
    background: linear-gradient(135deg, #1a1b25, #23263a) !important; /* Arrière-plan sombre */
  }

  body.dark-mode .auth-box {
    background: #23263a !important; /* Fond de la boîte sombre */
    color: #f3f4f6 !important; /* Texte clair pour le mode sombre */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4) !important; /* Ombre plus forte pour le mode sombre */
  }

  body.dark-mode .auth-logo img {
  filter: brightness(0) drop-shadow(0 0 20px rgba(255, 255, 255, 0.7)) drop-shadow(0 0 30px rgba(255, 255, 255, 0.8));
}

  body.dark-mode .auth-title {
    color: #fff !important; /* Titre en blanc */
  }

  body.dark-mode .auth-desc {
    color: #b0b3b8 !important; /* Couleur des sous-titres en gris clair */
  }

  body.dark-mode .form-control {
    background-color: #2a2e3f !important;  /* Fond sombre pour les champs */
    color: #f3f4f6 !important;  /* Texte blanc dans les champs */
    border: 1.5px solid #4a5568 !important;  /* Bordure douce */
  }

  body.dark-mode .form-control:focus {
    border-color: #22d3ee !important;  /* Bordure lumineuse au focus */
    box-shadow: 0 0 0 2px #22d3ee !important;  /* Ombre lumineuse au focus */
  }

  body.dark-mode .auth-btn {
    background: linear-gradient(90deg, #22d3ee, #1a5eb8) !important;  /* Bouton lumineux */
    color: white !important;
    font-weight: 700;
    font-size: 1.1rem;
    border: none;
    border-radius: 12px;
    padding: 12px 0;
    width: 100%;
    margin-top: 20px;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  body.dark-mode .auth-btn:hover {
    background: linear-gradient(90deg, #1d4ed8, #0ea5e9) !important; /* Changement de couleur au survol */
  }

  body.dark-mode .auth-footer {
    color: #94a3b8 !important;  /* Texte du footer en gris clair */
  }

  body.dark-mode .auth-footer a {
    color: #22d3ee !important;  /* Lien bleu clair */
  }

  body.dark-mode .auth-footer a:hover {
    color: #1a5eb8 !important;  /* Lien bleu foncé au survol */
  }

  body.dark-mode .alert {
    background-color: #2d3748 !important;
    color: #fff !important;
    border-color: #4a5568 !important;  /* Bordure claire pour les alertes */
  }

  /* Labels en blanc dans le mode sombre */
  body.dark-mode label {
    color: #f3f4f6 !important;  /* Texte des labels en blanc */
  }
</style>

<div class="auth-center">
  <div class="auth-box auth-box-wide">
    <div style="text-align:center;flex:1;">
      <img src="{{ url_for('static', filename='img/Logo2.png') }}" alt="Logo" style="height:78px;margin-bottom:12px;"><br>
      <span style="font-weight:700;font-size:1.14rem;color:#ffb300;">AGENDA</span>
      <div style="color:#a9a99f;font-size:1.01rem;margin-top:10px;">Gestion collaborative des tâches</div>
    </div>

    <div style="flex:1;min-width:220px;">
      <div class="auth-title">Créer un compte</div>
      <form method="POST" action="/register">
        <label for="username">Nom d'utilisateur</label>
        <input type="text" class="form-control" id="username" name="username" required>

        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" name="email" required>

        <label for="role">Rôle / Fonction</label>
        <select class="form-control" id="role" name="role" required>
            <option value="Pôle Compta">Pôle Compta</option>
            <option value="Pôle Social">Pôle Social</option>
            <option value="Pôle juridique">Pôle juridique</option>
            <option value="Pôle Communication">Pôle Communication</option>
            <option value="Direction">Direction</option>
            <option value="Assistance Compta">Assistance Compta</option>
            <option value="Assistance Paie">Assistance Paie</option>
            <option value="Assistance juridique">Assistance juridique</option>
            <option value="Assistance Communication">Assistance Communication</option>
        </select>
        

        <label for="password">Mot de passe</label>
        <input type="password" class="form-control" id="password" name="password" required>

        <label for="confirm_password">Confirmer le mot de passe</label>
        <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>

        <button type="submit" class="auth-btn">Créer un compte</button>
        
        {% if session.get('user') != 'Dir' %}
          <div class="alert alert-danger" style="font-size:1rem;">
            Accès réservé à l'administrateur.
          </div>
        {% endif %}
      </form>

      <div class="auth-footer">
        Déjà un compte ? <a href="{{ url_for('login') }}">Se connecter</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
